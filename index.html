<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin DashBoard</title>
    <link rel="stylesheet" href="index.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2022.1.119/styles/kendo.default-v2.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://kendo.cdn.telerik.com/2022.1.119/js/kendo.all.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <div class="top" style="background-color: rgb(255, 255, 255);">
        <div class="con" style="display: flex;align-items: center;justify-content: center;">
          <div class="col-md-1">
            <select id="yearSelect">
              <option value="2020">2024</option>
              <option value="2021">2023</option>
              <option value="2022">2022</option>
            </select>
          </div>
            <div class="col-md-3" class="topitem" style="margin: 1rem;background-color: rgb(247, 247, 251);border-radius: 0.5rem;box-shadow: 4px 4px 2px 1px rgba(124, 124, 224, 0.2);">
               <div class="row">
                <div class="col-md-6" style="display: flex;align-items: center;justify-self: center">
                  <img src="food-delivery.png"  alt="" style="object-fit: contain;height: 10vh;width: 100%;">
                </div>
                <div class="col-md-6">
                  <div>
                    <h3 style="color: salmon;">75</h3>
                  </div>
                  <div>
                   <p style="font-size: 20px;font-family:Arial, Helvetica, sans-serif;color: blue;">Total Orders</p>
                  </div>
                </div>
               </div>
            </div>
            <div class="col-md-3" style="margin: 1rem;background-color: rgb(247, 247, 251);border-radius: 0.5rem;box-shadow: 4px 4px 2px 1px rgba(124, 124, 224, 0.2);">
              <div class="row" style="margin-left: 0.2rem;">
                <div class="col-md-6" style="display: flex;align-items: center;justify-self: center">
                  <img src="salary.png"  alt="" style="object-fit: contain;height: 10vh;width: 100%;">
                </div>
                <div class="col-md-6">
                  <div>
                    <h3 style="color: salmon;"><span style="color: black;">$&nbsp;</span>1230</h3>
                  </div>
                  <div>
                   <p style="font-size: 20px;font-family:Arial, Helvetica, sans-serif;color: blue;">Total Revenue</p>
                  </div>
                </div>
               </div>
            </div>
            <div class="col-md-3"  style="margin: 1rem;background-color: rgb(247, 247, 251);border-radius: 0.5rem;box-shadow: 4px 4px 2px 1px rgba(124, 124, 224, 0.2);">
              <div class="row" style="margin: 0.2rem;">
                <div class="col-md-6" style="display: flex;align-items: center;justify-self: center">
                  <img src="menu_1046747.png"  alt="" style="object-fit: contain;height: 10vh;width: 100%;">
                </div>
                <div class="col-md-6">
                  <div>
                    <h3 style="color: salmon;">50</h3>
                  </div>
                  <div>
                   <p style="font-size: 20px;font-family:Arial, Helvetica, sans-serif;color: blue;">Menu Group</p>
                  </div>
                </div>
               </div>
            </div>
        </div>
    </div>
    <div class="row" style="display: flex; align-items: center;justify-content: center;">
      <div class="col-md-6">
        <canvas id="salesChart" style="max-height: 50vh;"></canvas>
      </div>
      
    </div>
    <div>
      <div class="row" style="margin: 1rem;display: flex; justify-content: center;" >
        <div class="col-md-5 d-flex" >
          <p style="margin-right: 2rem;">Year</p>
          <select id="yearSelect">
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
          </select>
        </div>
        <div class="col-md-5 d-flex" >
          <p style="margin-right: 1rem;color: brown;font-size: 1.5rem">Most Ordered Items</p>
          <p style="margin-right: 1rem;">Year</p>
          <select id="yearSelect">
            <option value="2020">2020</option>
            <option value="2021">2021</option>
            <option value="2022">2022</option>
            <option value="2023">2023</option>
          </select>
          <p style="margin-right: 1rem;margin-left: 1rem;">Month</p>
          <select id="yearSelect">
            <option value="2020">Jan</option>
            <option value="2021">Feb</option>
            <option value="2022">Mar</option>
            <option value="2023">Apr</option>
          </select>
        </div>
      </div>
      <div class="row" style="display: flex;justify-content: center;background-color: rgb(238, 238, 235);">
        <div class="col-md-5" style="margin: 1rem;background-color: rgb(255, 255, 255);border-radius: 2rem;;">
          <div>
            <canvas id="myChart" style="max-height: 40vh;"></canvas>
          </div>
        </div>
        <div class="col-md-5" style="margin: 0.5rem;background-color: rgb(255, 255, 255);border-radius: 2rem;">
          <canvas id="myDonutChart" style="max-height: 40vh;"></canvas>
        </div>
      </div>
    </div>
    <div class="row" style="margin: 1rem;">
      
      <div class="col-md-5">
        <div style="text-align: center;">
          <h4>MenuGroup</h4>
        </div>
        <div id="menugrid"></div>
      </div>
      <div class="col-md-7">
        <div style="text-align: center;">
          <h4>Items</h4>
        </div>
        <div id="itemsgrid"></div>
      </div>
      
    </div>
    <script>
       $(document).ready(function () {
            $("#menugrid").kendoGrid({
                dataSource: {
                    data: [
                        { id: 1, menugroupname: "Sandwich",items:40},
                        { id: 2, menugroupname: "Cheese Hogai",items:67},
                        { id: 3, menugroupname: "Burrito",items:89 }
                    ],
                },
                columns: [
                    { field: "id", title: "id" },
                    { field: "menugroupname", title: "menugroupname" },
                    { field: "items", title: "# Orders" }
                ],
            });

            $("#itemsgrid").kendoGrid({
                dataSource: {
                    data: [
                        { sku: 34, itemname: "Cheese Sandwich",items:15},
                        { sku: 123, itemname: "Veg Sandwich",items:15},
                        { sku: 67, itemname: "Just Sandwitch",items:10}
                    ],
                },
                columns: [
                    { field: "sku", title: "SKU" },
                    { field: "itemname", title: "Itmen Name" },
                    { field: "items", title: "# Orders" }
                ],
            });
        });

        const salesData = [
            { month: 'January', sales: 1000 },
            { month: 'February', sales: 1500 },
            { month: 'March', sales: 2000 },
            { month: 'April', sales: 1800 },
            { month: 'May', sales: 2200 },
            { month: 'June', sales: 2500 },
            { month: 'July', sales: 3000 },
            { month: 'August', sales: 2800 },
            { month: 'September', sales: 2600 },
            { month: 'October', sales: 2300 },
            { month: 'November', sales: 1800 },
            { month: 'December', sales: 1500 }
        ];

        // Step 2: Format data for Chart.js
        const labels = salesData.map(item => item.month);
        const sales = salesData.map(item => item.sales);

        // Step 3: Set up HTML canvas
        const ctx1 = document.getElementById('salesChart').getContext('2d');

        // Step 4: Initialize Chart.js
        const salesChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Monthly Sales',
                    data: sales,
                    borderColor: 'rgba(54, 162, 235, 1)',
                    backgroundColor: 'rgba(54, 162, 235, 0.2)',
                    borderWidth: 2
                }]
            },
            options: {
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true
                        }
                    }]
                },
                title: {
                    display: true,
                    text: 'Monthly Sales in Current Year',
                    fontSize: 16
                },
                legend: {
                    display: false
                }
            }
        });

// Example data for the top 4 menu items
const topMenuItemsData = {
  labels: ['Item 1', 'Item 2', 'Item 3', 'Item 4'],
  data: [300, 200, 150, 100], // Example data (replace with actual data)
  backgroundColor: [
    'rgba(255, 99, 132, 0.5)',
    'rgba(54, 162, 235, 0.5)',
    'rgba(255, 205, 86, 0.5)',
    'rgba(75, 192, 192, 0.5)'
  ]
};

// Function to calculate percentage
const calculatePercentage = (value, total) => {
  return ((value / total) * 100).toFixed(2);
};

// Calculate total sum of all items
const totalSum = topMenuItemsData.data.reduce((acc, curr) => acc + curr, 0);

// Calculate percentages for each item
const percentages = topMenuItemsData.data.map(value => calculatePercentage(value, totalSum));

// Chart.js configuration for the donut chart
const donutChartConfig = {
  type: 'doughnut',
  data: {
    labels: topMenuItemsData.labels.map((label, index) => `${label} (${percentages[index]}%)`),
    datasets: [{
      label: 'Top Menu Items',
      data: topMenuItemsData.data,
      backgroundColor: topMenuItemsData.backgroundColor
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    plugins: {
      title: {
        display: true,
        text: 'Top 4 Menu Items'
      },
      legend: {
        display: true,
        position: 'bottom',
        labels: {
          boxWidth: 20,
          fontSize: 14,
          padding: 15
        }
      }
    }
  }
};

// Get the canvas element
const ctxDonut = document.getElementById('myDonutChart').getContext('2d');

// Create the donut chart
new Chart(ctxDonut, donutChartConfig);


      const ctx = document.getElementById('myChart');
    
      new Chart(ctx, {
  type: 'bar',
  data: {
    labels: ['Jan.', 'Feb.', 'Mar.', 'Apr.', 'May', 'Jun.','Jul.','Aug.','Sep.','Oct.','Nov.','Dec'],
    datasets: [{
      label: 'My First Dataset',
      data: [65, 59, 80, 81, 56, 55, 40,45,67,89,34,39],
      backgroundColor: [
        'rgba(255, 99, 132, 0.2)',
        'rgba(255, 159, 64, 0.2)',
        'rgba(255, 205, 86, 0.2)',
        'rgba(75, 192, 192, 0.2)',
        'rgba(54, 162, 235, 0.2)',
        'rgba(153, 102, 255, 0.2)',
        'rgba(201, 203, 207, 0.2)'
      ],
      borderColor: [
        'rgb(255, 99, 132)',
        'rgb(255, 159, 64)',
        'rgb(255, 205, 86)',
        'rgb(75, 192, 192)',
        'rgb(54, 162, 235)',
        'rgb(153, 102, 255)',
        'rgb(201, 203, 207)'
      ],
      borderWidth: 1
    }]
  },
  options: {
    scales: {
      x: {
        grid: {
          display: false // remove x-axis grid lines
        }
      },
      y: {
        title: {
          display: true,
          text: 'Total Orders' ,
          fontSize: 16 /// Your label for the y-axis data
        },
        grid: {
          display: false // remove y-axis grid lines
        },
        beginAtZero: true
      }
    },
    plugins: {
      legend: {
        display: false // remove legend
      }
    }
  }
});


    </script>
    
</body>
</html>
